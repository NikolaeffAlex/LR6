# Лабораторная работа №6. Система контроля версий  

**Студент:** Николаев Алексей

**Группа:** 4314  

---
# Описание работы
**Цель работы**: изучение базовых возможностей системы
управления версиями, опыт работы с Git Api, опыт работы с локальным и
удаленным репозиторием. 

---

## Содержание

1. [Создание копии репозитория в личном хранилище](#1)
2. [Настройка клиента Git](#2)
3. [Клонирование личного удалённого репозитория на компьютер](#3)
4. [Добавление файла через интерфейс GitHub](#4)
5. [Получение истории операций для каждой из веток](#5)
6. [Просмотр последних изменений](#6)
7. [Слияние в ветку master, разрешение конфликта](#7)
8. [Удаление побочной ветки после успешного слияния](#8)
9. [Внесение изменений и их фиксация с комментариями](#9)
10. [Откат коммита](#10)
11. [Создание ветки для отчёта](#11)
12. [Получение истории операций в форматированном виде](#12)
13. [Отправка локальных изменений в сетевое хранилище GitHub](#13)

---

<a name="1"></a>
### 1. Создание копии репозитория в личном хранилище

Переходим в оригинальный репозиторий [LR6](https://github.com/Kurtyanik/LR6), нажимаем **Fork**, после чего выполняем операцию **Create a new fork**, чтобы создать копию репозитория в своём аккаунте.

![Fork репозитория](assets/fork.png)

---

<a name="2"></a>
### 2. Настройка клиента Git

После того, как Git был установлен на компьютер, дальнейшая работа будет осуществляться через Git Bash.

	Git Bash — это терминал (или командная строка), который предоставляет инструменты для работы с Git в операционной системе Windows. Он включает в себя как команды Git, так и популярные команды Unix/Linux, такие как `ls`, `cat`, `rm`, и другие.

	Git Bash предназначен для разработчиков, которые хотят использовать Git и Unix-стиль командной строки в Windows, не прибегая к дополнительным инструментам или операционным системам, как Linux или macOS.

Запускаем терминал. Первым шагом настраиваем имя пользователя и email для локального репозитория, через следующие команды:
   ```bash
   git config --global user.name "Группа Фамилия Инициалы"
   git config --global user.email "ваш_email@example.com"
   ```

![Настройка Git](assets/client_init.png)

---
<a name="3"></a>
### 3. Клонирование личного удалённого репозитория на компьютер

Для работы с репозиторием на локальном компьютере необходимо его клонировать.

1. Копируем URL-адрес репозитория из своего аккаунта на GitHub (кнопка **Code** -> **HTTPS**).
2. Выполняем команду в Git Bash:
```bash
git clone https://github.com/<username>/LR6.git
```
Репозиторий успешно скачивается в локальную папку.

![Клонирование](assets/gitclone.png)

---
<a name="4"></a>
### 4. Добавление файла через интерфейс GitHub

Для добавления нового файла через веб-интерфейс GitHub.

1. Переходим в свой репозиторий на GitHub.
2. Нажимаем **Add file** -> **Create new file**.
3. Создаём файл `new_file.txt` и добавляем содержимое.
4. Нажимаем **Commit changes**.

![Добавление файла через GitHub](assets/file_adding.png) 

После добавления файла подтягиваем изменения на локальный компьютер:

   ```bash
   git pull origin master
   ```

![Подтягивание изменений на локальный компьютер](assets/git_pull.png) 

---
<a name="5"></a>
### 5. Получение истории операций для каждой из веток

Для просмотра истории операций в репозитории используется команда `git log`.
Выполняем команду:

```bash 
git log --oneline --all
```

В выводе отображаются коммиты с краткими сообщениями, их хэшами и привязкой к веткам.
![История операций](assets/git_log.png)

---
<a name="6"></a>
### 6. Просмотр последних изменений

Просмотр последних изменений в репозитории осуществляется с помощью команды:

```bash
git log -p -1
```

![Последние изменения](assets/git_log-1.png)

---
<a name="7"></a>
### 7. Слияние в ветку master

Для слияния в ветку master создадим побочную ветку new_branch. Для этого используем следующую команду :

```bash
git branch new_branch
```

После этого перейдем в новую ветку через команду:

```bash
git checkout new_branch
```
В данной ветке для выполнения задания выполним пару действий:

1.  Добавим текст в пустой файл new_file.txt

![АБС](assets/abc.png)
2.  Создадим новый файл в new_branch с названием file1.txt. 

```bash 
git checkout -b new_branch 
touch new_file.txt 
git add new_file.txt 
git commit -m "Added new_file.txt in new_branch"
```

После выполнения всех действий переходим обратно в ветку master. Здесь мы добавим в new_file.txt текст. Делаем коммит.

```bash 
git checkout -b master
echo "change in master" > new_file.txt
git add new_file.txt 
git commit -m "Change in master"
```

Далее пытаемся выполнить слияние при помощи следующей команды:

```bash
git merge new_branch
```

Однако возникает конфликт:

![Конфликт и его разрешение](assets/conflict.png)

Для его решения открываем текстовый редактор. Необходимо отредактировать файл, убрав из него `<<<<<<< , =======, >>>>>>> `.

![Конфликт и его разрешение](assets/conflict_resolving.png)

![Конфликт и его разрешение](assets/conflict_text.png)

Сохраняем изменения. 

Пытаемся опять осуществить слияние. Выполняем `git merge new_branch`, и видим, что на этот раз все прошло успешно:

![Конфликт и его разрешение](assets/merge_branches.png)

---
<a name="8"></a>
### 8. Удаление побочной ветки после успешного слияния

После выполнения слияния в ветку master удаляем побочную ветку при помощи команды:
   ```bash
   git branch -d new_branch
   ```

![Удаление ветки](assets/branch_delete.png)

---
<a name="9"></a>
### 9. Внесение изменений и их фиксация с комментариями

Добавим несколько изменений в файл `new_file.txt` и зафиксируем каждое в виде отдельного коммита. Вот подробное описание процесса:

1. **Первое изменение:**
   - Добавим текст в файл `new_file.txt`, тем самым внеся изменение первое изменение .
   - Добавляем файл в область подготовки командой:
     ```bash
     git add .
     ```
   - Команда `git status` подтверждает, что файл находится в области подготовки и готов для фиксации:
     ```
     On branch master
     Your branch is ahead of 'origin/master' by 1 commit.
     Changes to be committed:
       modified:   new_file.txt
     ```
   - Изменение было зафиксировано в коммите с описанием "Первое изменение в new_file.txt":
     ```bash
     git commit -m "Первое изменение в new_file.txt"
     ```

![Фиксация изменений](assets/commit1.png)

По аналогии с первым изменением добавим в new_file.txt еще текста и зафиксируем изменение.
- Добавляем измененный файл в область подготовки
     ```bash
     git add .
     ```
   - Отслеживаем статус через `git status`
   - Фиксируем изменение добавив соответствующий комментарий:
     ```bash
     git commit -m "Второе изменение в new_file.txt"
     ```
   - Результат:
     ```
     [master a5f38fa] Второе изменение в new_file.txt
      1 file changed, 1 insertion(+)
     ```

![Фиксация изменений](assets/commit2.png)

---
<a name="10"></a>
### 10. Откат коммита

Сделаем еще один коммит и сделаем его откат:

1. Создаем новый коммит:

```bash
git commit -m"Третье изменение в файл new_file.txt"
```

2. Используем команду `git revert` для выполнения отката:

```bash
git revert <хэш_коммита>
```

Получаем сообщение об успешном откате коммита:

![Фиксация изменений](assets/revert.png)

Создается новый коммит с изменениями, которые отменяют указанный коммит.

---
<a name="11"></a>
### 11. Создание ветки для отчёта

Ветку для отчета создадим при помощи команды:

   ```bash
   git checkout -b report
   ```

![Создание ветки](assets/report.png)

---
<a name="12"></a>
### 12. Получение истории операций в форматированном виде

Получил историю операций в формате "сокращённый хэш + дата + имя автора + комментарий":
   ```bash
   git log --pretty=format:"%h %ad %ad %s" --date=short
   ```

![История операций](assets/assets.png)

Получаем всю историю операций в форматированном виде.

---
<a name="13"></a>
### 13. Отправка локальных изменений в сетевое хранилище GitHub

Для отправки изменений в сетевое хранилище для основной ветки используется команда:
   ```bash
   git push origin master
   ```
Для ветки `report` аналогичная:
   ```bash
   git push origin report
   ```

---

## Вывод

В ходе выполнения лабораторной работы были изучены основные возможности системы контроля версий Git, а также приобретены практические навыки работы с локальными и удалёнными репозиториями. Выполнено клонирование репозитория, создание веток, внесение изменений и их фиксация, а также разрешение конфликта при слиянии веток. Были освоены команды для просмотра истории операций, отмены коммитов и синхронизации с удалённым репозиторием. Итогом работы стало создание отчёта с описанием всех выполненных действий.